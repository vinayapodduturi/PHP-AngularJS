 <!-- --------------------------CONTAINER------------------------------------------- -->
<div class="nav_headline navbar-default_shadow_low">
<div class="container">
    <div class="margin_right_M15">
   <div class="row">
       <div class="col-xs-12 col-md-12 col-sm-12">
          
           <div class="nav_heading_text">
               <ol class="breadcrumb">
<li><a href="/">Dashboard</a></li>
<li><a href="#/user_management">User Management</a></li>
<li>Add User</li>
</ol>
                    <span>USER MANAGEMENT</span></div>
       </div>
     
   </div>
</div>
  
</div>
</div>
<!-- ---------------CONTENT----------------- -->
<div class="container" ng-controller="userCtrl">
<!-- --------- MODEL BOX START------------ -->
<div class="modal fade" id="mybox">
   <div class="modal-dialog model_box_width">
     <div class="modal-content model_box">
     		       <div class="modal-header model_heading">
             <!-- <button type="button" class="close" data-dismiss="modal" aria-hidden="true"> &times;</button>-->
              <h4 class="modal-title" id="myModalLabel">Header</h4></div>
       			   <div class="modal-body">body_text</div>
       			   <div class="modal-footer border_none">
        <!-- <div class="btn btn-danger">submit</div>-->
       </div>  
     
     </div>
   </div>
</div>
<!-- --------- MODEL BOX END------------ -->

<script>
        var today = new Date();
                var dd = today.getDate();
                var mm = today.getMonth() + 1; //January is 0!
                var yyyy = today.getFullYear();
                if (dd < 10) {
        dd = '0' + dd
        }

        if (mm < 10) {
        mm = '0' + mm
        }
        var today = mm + '-' + dd + '-' + yyyy;</script>
<form name="userForm" class="form-group" ng-submit="submitted && userForm.$valid && successmessage && submitFormdata()" novalidate>
 <h1 class="margin_top_bottom_70">Add User</h1>
<div class="alert alert-success" ng-show="message != NULL" id="successDiv">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>{{message}}</strong>
  </div>
 <div class="alert alert-danger" ng-show="error != NULL" id="dangerDiv">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>{{error}}</strong>
  </div>
 <div class="alert alert-warning" ng-show="warning != NULL" id="warningDiv">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>{{warning}}</strong>
  </div>
<div class="margin_top7_left_15" style="display:block">

    <div class="well well_div position_relative" >
     
    <div class="form-group">
        <div class="row customrowmarginzero">
            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
                <label class="control-label label_mob">Role<sup class="asterisk">*</sup></label>
                <div class="control-group "> 
                    <div name="role" ng-dropdown-multiselect="" options="typeofRole" extra-settings="typeofRoleSettings" checkboxes="true" selected-model="typeofRolemodel" events="typeofRoleEvents">
                              
                              </div>

                    
</div>
       <div>
           
                    </div>       
</div>      
            
           
    </div>
    </div> <div class="form-group">
        <div class="row customrowmarginzero">
            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
                <label class="control-label label_mob">First Name<sup class="asterisk">*</sup></label>
                <input type="text" class="form-control form_textbox" name="First_name" ng-model="user.First_name" required ng-pattern ="/^[a-zA-Z\s]*$/" maxlength="100"  ng-minlength="3" onkeypress="return numberOnly(this, event)" />
                <div >
                    <div ng-show="submitted && userForm.First_name.$error.pattern" class="errorMessage">First Name invalid.</div>
                    <div ng-show="submitted && userForm.First_name.$error.required" class="errorMessage">First Name required.</div>
                    <div ng-show="submitted && userForm.First_name.$error.minlength" class="errorMessage">First Name should be minimum 3 characters.</div>
                </div>
            </div>

            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
               <label class="control-label label_mob">Last Name<sup class="asterisk">*</sup></label>
                <input type="text" class="form-control form_textbox" name="Last_name" ng-model="user.Last_name" required ng-pattern ="/^[a-zA-Z\s]*$/" maxlength="100"  ng-minlength="3" onkeypress="return numberOnly(this, event)" />
                <div >
                    <div ng-show="submitted && userForm.Last_name.$error.pattern" class="errorMessage">Last Name invalid.</div>
                    <div ng-show="submitted && userForm.Last_name.$error.required" class="errorMessage">Last Name required.</div>
                    <div ng-show="submitted && userForm.Last_name.$error.minlength" class="errorMessage">Last Name should be minimum 3 characters.</div>
                </div>
            </div>

         <!--   <div class="col-xs-12 col-sm-4 col-md-4">
                <label class="control-label label_mob" style="display:block">Gender</label>
<input type="radio" id="radio4" class="css-checkbox" ng-model="user.Gender" ng-checked="true"  value="male" name="Gender" /><label for="radio4" class="css-label radGroup1 radGroup2">Male</label>
<input type="radio" id="radio6" class="css-checkbox" ng-model="user.Gender" value="female" name="Gender"/><label for="radio6" class="css-label radGroup1 radGroup2 margin_left70">Female</label>
 
            </div>-->
        </div>
    </div> <div class="form-group">
        <div class="row customrowmarginzero">
            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
                <label class="control-label label_mob">Email<sup class="asterisk">*</sup></label>
                <input type="email" class="form-control form_textbox" name="email" ng-model="user.Email" ng-pattern="/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/" ng-change="verifyEmail()" required/>
            <div>
                    <div ng-show="submitted && userForm.email.$error.required" class="errorMessage">Email required.</div>
                    <div ng-show="submitted && userForm.email.$error.pattern" class="errorMessage">Please enter a valid Email address.</div>
                    <div ng-show="checkmessage" id="checkDiv">
                    <div class="verifyMessage">{{checkmessage}}</div>
                <span class="form-control-feedback form_control_right_verify_icon form_control_right_verify_icon1">

<a href="#"><img src="/images/verify.gif"></a></span>

                    </div>
                    <div ng-show="existsmessage" id="existsDiv">
                        <div class="verify_error_Message">{{existsmessage}}</div>

                <span class="form-control-feedback form_control_right_verify_icon form_control_right_verify_icon1">
<a href="#"><img src="/images/verify_error.png"></a></span>

                    </div>
                    <div ng-show="successmessage" id="successmessageDiv">
                        <span class="form-control-feedback form_control_right_verify_icon form_control_right_verify_icon1">

<a href="#"><img src="/images/verify_success.png"></a></span>

                    </div>
                
            </div>
            </div>

            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
               <label class="control-label label_mob">Password<sup class="asterisk">*</sup></label>
                <input type="text" class="form-control form_textbox" name="Password" ng-model="user.Password" ng-disabled="true" ng-required="true" />
           </div>
            <div ng-if="hide">
            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
                <label class="control-label label_mob">Business<sup class="asterisk">*</sup></label>
                <input type="text" class="form-control form_textbox" name="Business" ng-model="user.Business" required ng-pattern="/^[a-zA-Z0-9\s]*$/" maxlength="100"  ng-minlength="3"/>
            <div >
                    <div ng-show="submitted && userForm.Business.$error.pattern" class="errorMessage">Business invalid.</div>
                    <div ng-show="submitted && userForm.Business.$error.required" class="errorMessage">Business required.</div>
                    <div ng-show="submitted && userForm.Business.$error.minlength" class="errorMessage">Business should be minimum 3 characters.</div>
                </div>
            </div>
        </div>
        </div>
    </div>
    <div ng-if="show">
        <div class="form-group">
        <div class="row customrowmarginzero">
            <div class="col-xs-12 col-sm-12 col-md-12 customrowpaddingzero"> 
            <label class="control-label label_mob">Address<sup class="asterisk">*</sup></label>
            <textarea class="form-control vresize form_textbox" name="Address" ng-model="user.Address" ng-required="true" maxlength="250"  ng-minlength="10"></textarea>
            <div>
                 <div ng-show="submitted && userForm.Address.$error.required" class="errorMessage">Address is required.</div>
                    <div ng-show="submitted && userForm.Address.$error.minlength" class="errorMessage">Address should be minimum 10 characters.</div>
             </div>
            </div>
            </div>
    </div>  
    <div class="form-group">
        <div class="row customrowmarginzero">
         <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
               <label class="control-label label_mob">City<sup class="asterisk">*</sup></label>
                <input type="text" class="form-control form_textbox" name="City" ng-model="user.City" required ng-pattern ="/^[a-zA-Z\s]*$/" ng-minlength="3" maxlength="100" onkeypress="return numberOnly(this, event)"/>
                <div >
                    <div ng-show="submitted && userForm.City.$error.pattern" class="errorMessage">City invalid.</div>
                    <div ng-show="submitted && userForm.City.$error.required" class="errorMessage">City required.</div>
                    <div ng-show="submitted && userForm.City.$error.minlength" class="errorMessage">City should be minimum 3 characters.</div>

                </div>
            </div>
            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
                <label class="control-label label_mob">State<sup class="asterisk">*</sup></label>
               <select class="form-control form_textbox "ng-model="user.State"  name="State" ng-required="true">
                                <option value="" ng-selected="true">Select State</option>
                                <option data-ng-repeat="State in States" value="{{State.name}}" >{{State.name}}</option>
                            </select>
                <div>
                    <div ng-show="submitted && userForm.State.$error.required" class="errorMessage">State required.</div>
                </div>
            </div>
            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
                <label class="control-label label_mob">Zip<sup class="asterisk">*</sup></label>
                <input type="text" class="form-control form_textbox" name="Zip" ng-model="user.Zip" mask="99999-9999" restrict="accept" limit="false" validate="false" clean="true" ng-maxlength="10" ng-minlength="5" maxlength="10"  onkeypress="return isNumberKey(event)" required />
            <div>
                    <div ng-show="submitted && userForm.Zip.$error.pattern" class="errorMessage">Zip invalid.</div>
                    <div ng-show="submitted && userForm.Zip.$error.required" class="errorMessage">Zip required.</div>
                    <div ng-show="submitted && userForm.Zip.$error.minlength" class="errorMessage">Zip must be a 5 digit number.</div>
                </div>
            </div>
        </div>
    </div>   
        <div class="form-group">
        <div class="row customrowmarginzero">
            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
                <label class="control-label label_mob">Phone<sup class="asterisk">*</sup></label>
                <input type="text" class="form-control form_textbox" name="Phone" ng-model="user.Phone" mask="999-999-9999" restrict="accept" limit="false" validate="false" clean="true" ng-maxlength="15" ng-minlength="12" maxlength="15" ng-pattern="/(?!0+)(?:\d*\-)?\d+/" onkeypress="return isNumberKey(event)" required />
            <div>
                 <div ng-show="submitted && userForm.Phone.$error.required" class="errorMessage">Phone Number is required.</div>
                 <div ng-show="submitted && userForm.Phone.$error.pattern" class="errorMessage">Phone Number is invalid.</div>
                 <div ng-show="submitted && userForm.Phone.$error.pattern || (userForm.Phone.$error.minlength || userForm.Phone.$error.maxlength)" class="errorMessage">Phone Number must be at least 10 digit number.</div> 

            </div>
            </div>
        
            <div ng-if="storeshow">
            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
                <label class="control-label label_mob">Select Stores<sup class="asterisk">*</sup></label>
               <div name="store" ng-dropdown-multiselect="" options="storeData" extra-settings="storeSelectsettings" checkboxes="true" selected-model="storeSelectmodel">
                </div> 
                <div>
                        
                    </div>  
             
            </div>
            
            
            </div>
            </div>
        </div>
    </div>
        <div ng-if="showlicense">
             <div class="form-group">
        <div class="row customrowmarginzero">
            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
               <label class="control-label label_mob">RPI Number</label>
                <input type="text" class="form-control form_textbox" name="Rpi" ng-model="user.Rpi" />
            <div>
<!--                 <div ng-show="submitted && userForm.Rpi.$error.required" class="errorMessage">RPI Number is required.</div>-->
             </div>
            </div>
            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
               <label class="control-label label_mob">RPH Number<sup class="asterisk">*</sup></label>
                <input type="text" class="form-control form_textbox" name="Rph" ng-model="user.Rph" ng-required="true"/>
            <div>
                 <div ng-show="submitted && userForm.Rph.$error.required" class="errorMessage">RPH Number is required.</div>
             </div>
            </div>

             <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
               <label class="control-label label_mob">CPR Number<sup class="asterisk">*</sup></label>
                <input type="text" class="form-control form_textbox"  name="Cpr" ng-model="user.Cpr" ng-required="true"/>
            <div>
                 <div ng-show="submitted && userForm.Cpr.$error.required" class="errorMessage">CPR Number is required.</div>
             </div>
             </div>
            <div ng-if="pmstoreshow">
            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
                <label class="control-label label_mob">PM/PO Store<sup class="asterisk">*</sup></label>
                <div class="control-group "> 
                    <div name="pmrole" ng-dropdown-multiselect="" options="pmstoreData" extra-settings="pmstoreSelectsettings" checkboxes="true" selected-model="pmstoreSelectmodel">
                              
                              </div>

                    
</div>
            </div>
            </div>
            
        </div>
    </div>
 <div class="form-group">
        <div class="row customrowmarginzero">
            <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
               <label class="control-label label_mob">RPI Expiration date</label>
                <!--<input type="date" class="form-control form_textbox" name="RpiExpiration" ng-model="user.RpiExpiration" ng-required="true" />
            <div>--><div class='input-group date RpiExpirationDatepickerObj'>
                                                            <input class="form-control form_textbox" type="text" name="RpiExpiration" ng-model="user.RpiExpiration" readonly >
				  					<span class="input-group-addon form_control_right_icon "><a><img src="images/calender_icon.png"></a></span>
								</div>	
                                                        <script>
                                                            $(function () {
                                                            $('.RpiExpirationDatepickerObj').datepicker({
                                                            autoclose: true,
                                                                    startDate :today,
                                                                    todayHighlight: true,
                                                                    format: 'mm-dd-yyyy'
                                                            });
                                                            });
                                                            </script>
           
<!--                 <div ng-show="submitted && userForm.RpiExpiration.$error.required" class="errorMessage">RPI Expiration date required.</div>-->
              </div>
            
             <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
               <label class="control-label label_mob">RPH Expiration date<sup class="asterisk">*</sup></label>
                <!--<input type="date" class="form-control form_textbox" name="RpiExpiration" ng-model="user.RpiExpiration" ng-required="true" />
            <div>--><div class='input-group date RpiExpirationDatepickerObj'>
                                                            <input class="form-control form_textbox" type="text" name="RphExpiration" ng-model="user.RphExpiration" required readonly >
				  					<span class="input-group-addon form_control_right_icon "><a><img src="images/calender_icon.png"></a></span>
								</div>	
                                                        <script>
                                                            $(function () {
                                                            $('.RphExpirationDatepickerObj').datepicker({
                                                            autoclose: true,
                                                                    startDate :today,
                                                                    todayHighlight: true,
                                                                    format: 'mm-dd-yyyy'
                                                            });
                                                            });
                                                            </script>
           
                 <div ng-show="submitted && userForm.RphExpiration.$error.required" class="errorMessage">RPH Expiration date required.</div>
              </div>

             <div class="col-xs-12 col-sm-4 col-md-4 customrowpaddingzero">
               <label class="control-label label_mob">CPR Expiration date<sup class="asterisk">*</sup></label>
                <!--<input type="date" class="form-control form_textbox"  name="CprExpiration" ng-model="user.CprExpiration" ng-required="true"/>-->
                <div class='input-group date CprExpirationDatepickerObj'>
                                                            <input class="form-control form_textbox" type="text" name="CprExpiration" ng-model="user.CprExpiration" required readonly >
				  					<span class="input-group-addon form_control_right_icon "><a><img src="images/calender_icon.png"></a></span>
								</div>	
                                                        <script>
                                                            $(function () {
                                                            $('.CprExpirationDatepickerObj').datepicker({
                                                            autoclose: true,
                                                                    startDate :today,
                                                                    todayHighlight: true,
                                                                    format: 'mm-dd-yyyy'
                                                            });
                                                            });
                                                            </script>
            <div>
                 <div ng-show="submitted && userForm.CprExpiration.$error.required" class="errorMessage">CPR Expiration date is required.</div>
             </div>
             </div>
        </div>
    </div>
 
</div>
     <div class="row mobilepaddingtop10">
    <div class="col-xs-12 col-sm-12 col-md-12">
<div class="pull-right mobilecenter ">
    <button ng-attr-type="submit" class="btn btn_deactive" ng-click="redirect()">CANCEL</button>
    <button ng-attr-type="submit" class="btn btn_active" ng-click="submitted = true">SAVE</button>
    </div> 

</div>
</div>

</div>
</div>
</form>
</div>


<script type="text/javascript">

                            function isNumberKey(evt){
                            var charCode = (evt.which) ? evt.which : event.keyCode
                                    if (charCode > 31 && (charCode < 48 || charCode > 57))
                                    return false;
                                    return true;
                            };
                            function numberOnly(txt, e) {
//                console.log(txt);
//              console.log(e);
//              console.log(window.event);
                            var arr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz.\u0008\u0009\u0027 ";
                                    var code;
                                    if (e.keyCode == 0)
                                    code = e.charCode;
                                    else
                                    code = e.keyCode;
                                    var char = keychar = String.fromCharCode(code);
//                    alert(keychar+"--"+e.which+"--"+e.keyCode);
                                    if (arr.indexOf(char) == - 1)
                                    return false;
                            };

</script>


